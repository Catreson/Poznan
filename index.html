<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<link rel="stylesheet" href="style.css">
<head>
    <title>Poznan extractor</title>
</head>
<body>
    <script>let results = {}</script>
    <script src="js.js"></script> 
    <div class="speedhive_fields" style="width:100%;">
        <label for="riders" style="width:50%">Rider: </label>
        <select name="riders" id="riders" onclick="UpdateRiderOptions()"></select>
        <button style="width:33.3%">Set</button>
      </div> 
    <div class="speedhive_butts" style="width:100%">
        <button style="width:33.3%" onclick="listen();">Listen</button>
        <button style="width:33.3%">Update</button>
        <button style="width:33.3%" onclick="download(results, 'wyniki.json', 'text/plain');">Download</button>
      </div> 
    <div class="speedhive_table" style="width:100%" id="speedhive_table">
        <table style="width:100%">
            <tr>
              <th>Lap</th>
              <th>Sector 1</th>
              <th>Sector 2</th>
              <th>Sector 3</th>
              <th>Laptime</th>
            </tr>
          </table> 
      </div>
    <script>
        var dt = dynamicTable.config('speedhive_table', //table name
                             ['ls', 's0', 's1', 's2', 'lsTm'], //field names
                             ['Lap', 'Sector 1', 'Sector 2', 'Sector 3', 'Laptime'], //set to null for field names to be used as header names instead of custom headers
                             'Puste'); //default text for no items
        var sel = document.getElementById("riders");
        dt.load(results[sel.options[sel.selectedIndex].text])
        </script>
    <div class="speedhive_container">
        <iframe class="speedhive" src="https://speedhive.mylaps.com/livetiming/" id="speedhive_iframe"></iframe>
      </div> 
</body>
</html>